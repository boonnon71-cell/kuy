<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</title>
<style>
*{
    box-sizing: border-box;
    font-family: "Segoe UI", Tahoma, sans-serif;
}
body{
    margin: 0;
    background: #1e1e1e;
}
/* Layout */
.wrapper{
    display: flex;
    min-height: 100vh;
}
/* Sidebar */
.sidebar{
    width: 240px;
    background: #ffffff;
    padding: 20px 15px;
    border-right: 1px solid #ddd;
}
.sidebar .logo{
    text-align: center;
    margin-bottom: 30px;
}
.sidebar .logo img{
    width: 80px;
}
.sidebar a{
    display: block;
    padding: 10px 12px;
    color: #222;
    text-decoration: none;
    border-radius: 6px;
    margin-bottom: 6px;
}
.sidebar a.active{
    color: #1976ff;
    font-weight: 600;
}
.sidebar a:hover{
    background: #f0f0f0;
}
/* Content */
.content{
    flex: 1;
    background: #f3f3f3;
}
/* Topbar */
.topbar{
    height: 60px;
    background: #ffffff;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 25px;
    border-bottom: 1px solid #ddd;
}
.breadcrumb{
    font-size: 14px;
    color: #444;
}
.user-menu{
    display: flex;
    align-items: center;
}
.user-group{
    display: flex;
    align-items: center;
    gap: 10px;   /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡πÅ‡∏ö‡∏ö‡πÉ‡∏ô‡∏£‡∏π‡∏õ */
}
/* ‡∏Å‡∏£‡∏∞‡∏î‡∏¥‡πà‡∏á */
.notification{
    position: relative;
    font-size: 22px;
    cursor: pointer;
    color: #000;
}

.notification:hover{
    opacity: 0.7;
}

/* badge */
.badge{
    position: absolute;
    top: -4px;
    right: -6px;
    background: red;
    color: #fff;
    font-size: 11px;
    font-weight: bold;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}
/* Main */
.main{
    padding: 25px;
}
/* Patient Card */
.patient-card{
    background: #ffffff;
    border: 1px solid #999;
    border-radius: 16px;
    padding: 20px;
    display: flex;
    align-items: flex-start;
    margin-bottom: 18px;
}
.patient-photo{
    width: 90px;
    height: 90px;
    border: 1px solid #999;
    border-radius: 6px;
    margin-right: 20px;
}
.patient-info{
    flex: 1;
    display: grid;
    grid-template-columns: 1fr 1fr;
    row-gap: 8px;
    column-gap: 30px;
    font-size: 14px;
    color: #000;
}
/* ‡∏™‡∏µ‡∏ü‡πâ‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå */
.doctor{
    color: #1976ff;
    cursor: pointer;
}
/* Button */
.patient-action{
    margin-left: 20px;
    position: relative;   /* ‚≠ê ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç */
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}
.btn-confirm{
    background: #8a00c2;
    border: none;
    color: #ffffff;
    padding: 8px 18px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 14px;
}
.btn-confirm:hover{
    background: #7400a5;
}
/* ===== ‡πÄ‡∏°‡∏ô‡∏π‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ ===== */
.patient-menu{
    position: relative;
    cursor: pointer;
    font-weight: 600;
}

/* ‡∏Å‡∏•‡πà‡∏≠‡∏á dropdown */
.patient-dropdown{
    position: absolute;
    top: 48px;              /* üîπ ‡∏î‡∏±‡∏ô‡∏•‡∏á‡∏°‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á */
    left: 0;
    background: #ffffff;
    border: 1px solid #ddd;
    border-radius: 14px;
    min-width: 320px;
    padding: 10px 0;
    box-shadow: 0 10px 28px rgba(0,0,0,0.18);

    display: none;
    z-index: 999;
}
.topbar{
    position: relative;
}

/* ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏ô */
.dropdown-item{
    padding: 12px 20px;
    font-size: 14px;
    color: #222;
}

.dropdown-item:hover{
    background: #f3f6ff;
    color: #1976ff;
}
/* ===== ‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢) ===== */
.clinic-menu{
    position: relative;
    padding: 10px 12px;
    border-radius: 6px;
    cursor: pointer;
    color: #222;
}

.clinic-menu:hover{
    background: #f0f0f0;
    color: #1976ff;
}

/* dropdown ‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å */
.clinic-dropdown{
    position: absolute;
    top: 44px;          /* ‡∏î‡∏±‡∏ô‡∏•‡∏á‡∏°‡∏≤‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ */
    left: 0;
    width: 220px;
    background: #ffffff;
    border: 1px solid #ddd;
    border-radius: 10px;
    box-shadow: 0 10px 28px rgba(0,0,0,0.18);

    display: none;
    z-index: 999;
}

/* ‡πÉ‡∏ä‡πâ dropdown-item ‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ */
.clinic-dropdown .dropdown-item{
    padding: 10px 14px;
    font-size: 14px;
}

.clinic-dropdown .dropdown-item:hover{
    background: #f3f6ff;
    color: #1976ff;
}
/* ===== Account ===== */
.account-box{
    display: flex;
    align-items: center;
    gap: 10px;

    background: #8e24aa; /* ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á */
    color: #fff;

    padding: 8px 14px;
    border-radius: 999px; /* ‡∏°‡∏ô‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏ñ‡∏ö */
    cursor: pointer;

    width: fit-content;
}

.account-box:hover{
    background: #7b1fa2;
}

/* ‡∏ß‡∏á‡∏Å‡∏•‡∏°‡∏£‡∏π‡∏õ */
.avatar{
    width: 36px;
    height: 36px;
    background: #fff;
    border-radius: 50%;
    overflow: hidden;
    flex-shrink: 0;
}

.avatar img{
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° */
.account-text{
    font-size: 14px;
    font-weight: 500;
    white-space: nowrap;
}

/* ‡∏•‡∏π‡∏Å‡∏®‡∏£ */
.arrow{
    font-size: 14px;
}
.patient-photo img{
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 6px;
}
/* ===== Modal ===== */
.modal-overlay{
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.45);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}

.modal-box{
    background: #fff;
    padding: 24px 30px;
    border-radius: 16px;
    width: 360px;
    text-align: center;
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

.modal-box h3{
    margin-top: 0;
    margin-bottom: 10px;
}

.modal-box p{
    font-size: 14px;
    color: #444;
    margin-bottom: 20px;
}

.modal-actions{
    display: flex;
    justify-content: center;
    gap: 12px;
}

.btn-cancel{
    background: #ddd;
    border: none;
    padding: 8px 18px;
    border-radius: 20px;
    cursor: pointer;
}

.btn-cancel:hover{
    background: #ccc;
}
.goal-link{
    color: #1976ff;
    text-decoration: none;
    font-weight: 500;
    cursor: pointer;
}

.goal-link:hover{
    text-decoration: underline;
}
.goal-link2{
    color: #000000;
    text-decoration: none;
    font-weight: 500;
    cursor: pointer;
}

.goal-link2:hover{
    text-decoration: underline;
}
/* ===== Welcome Banner ===== */
.welcome-overlay{
    position:fixed;
    inset:0;
    background:rgba(5,8,20,.85);
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:10000;
    animation: fadeIn .6s ease forwards;
}
.welcome-banner{
    position:relative;
    width:80%;
    max-width:720px;
    padding:30px 40px;
    background:linear-gradient(135deg,#1a1f3c,#0b0f1a);
    border-radius:14px;
    border:1px solid rgba(139,92,246,.6);
    box-shadow:0 0 25px rgba(139,92,246,.6);
    animation: slideIn .8s ease forwards, glowPulse 2.5s infinite;
}
.close-btn{
    position:absolute;
    top:14px;
    right:18px;
    font-size:22px;
    color:#fff;
    cursor:pointer;
    opacity:.7;
}
.close-btn:hover{opacity:1}
.banner-content{
    display:flex;
    align-items:center;
    gap:20px;
}
.banner-icon{
    font-size:48px;
    filter:drop-shadow(0 0 10px #8b5cf6);
}
.banner-text h1{
    margin:0;
    font-size:36px;
    color:#fff;
    letter-spacing:2px;
}
.banner-text h2{
    margin:6px 0 0;
    font-size:18px;
    font-weight:300;
    color:#c7d2fe;
}
.banner-text p{
    margin-top:6px;
    font-size:14px;
    color:#94a3b8;
}
@keyframes slideIn{
    from{transform:translateX(-60px);opacity:0}
    to{transform:translateX(0);opacity:1}
}
@keyframes fadeIn{
    from{opacity:0}
    to{opacity:1}
}
@keyframes glowPulse{
    0%,100%{box-shadow:0 0 18px rgba(139,92,246,.5)}
    50%{box-shadow:0 0 35px rgba(56,189,248,.9)}
}
/* ===== Account Dropdown ===== */
.account-wrapper{
    position: relative;
}

.account-dropdown{
    position: absolute;
    top: 58px;
    right: 0;
    width: 260px;
    background: #e0e0e0;
    border-radius: 6px;
    box-shadow: 0 10px 28px rgba(0,0,0,0.25);
    display: none;
    z-index: 1000;
}

/* Header */
.account-header{
    display: flex;
    gap: 12px;
    padding: 14px;
    background: #dcdcdc;
}

.account-avatar{
    width: 46px;
    height: 46px;
    border-radius: 50%;
    overflow: hidden;
    background: #000;
}

.account-avatar img{
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.account-name{
    font-weight: 600;
}

.account-role{
    font-size: 13px;
    color: #8a00c2;
}

/* Section */
.account-section{
    padding: 10px 14px;
}

.section-title{
    font-size: 13px;
    margin-bottom: 8px;
}

.account-item{
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
    cursor: pointer;
}

.account-item:hover{
    background: #f0f0f0;
}

/* ‡∏ß‡∏á‡∏Å‡∏•‡∏°‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô */
.circle-icon{
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: #000;
}

/* Logout */
.account-logout{
    text-align: center;
    padding: 10px;
    margin: 10px;
    border: 1px solid red;
    color: red;
    cursor: pointer;
}

.account-logout:hover{
    background: rgba(255,0,0,0.08);
}
.no-doctor-title{
    font-size: 16px;
    font-weight: 600;
    color: #8a00c2;   /* ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á‡∏ï‡∏≤‡∏°‡∏õ‡∏∏‡πà‡∏° */
    margin-bottom: 14px;
}
.account-logout{
    display: block;              /* ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô div */
    text-decoration: none;       /* ‡∏ï‡∏±‡∏î‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏ï‡πâ */
    color: red;                  /* ‡∏™‡∏µ‡πÄ‡∏î‡∏¥‡∏° */
    text-align: center;
    padding: 10px;
    margin: 10px;
    border: 1px solid red;
    border-radius: 4px;          /* ‡∏ñ‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏°‡πà‡∏°‡∏µ ‡∏•‡∏ö‡πÑ‡∏î‡πâ */
    cursor: pointer;
}

.account-logout:hover{
    background: rgba(255,0,0,0.08);
}
.account-item,
.account-logout{
    text-decoration: none;
    color: inherit;
}
.breadcrumb a.active-page{
    color: #444;
    pointer-events: none;
    cursor: default;
}

.btn-confirm.status{
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
}

/* ‡∏ß‡∏á‡∏Å‡∏•‡∏° */
.status-dot{
    width: 20px;
    height: 20px;
    border-radius: 50%;
}

.status.done{
    background: #8a00c2;
}

.status.done .status-dot{
    background: #00e676;
}

.status.recall{
    background: #8a00c2;
}

.status.recall .status-dot{
    background: #ff0000;
}

@keyframes pulse{
    0%{transform: scale(1); opacity: 1;}
    50%{transform: scale(1.5); opacity: .6;}
    100%{transform: scale(1); opacity: 1;}
}
.status.treating .status-dot{
    animation: pulse 1.2s infinite;
}
.status.recall .status-dot{
    animation: pulse 1.2s infinite;
}
.status.done .status-dot{
    animation: pulse 1.2s infinite;
}

.btn-edit{
    margin-top: 8px;
    background: #1976ff;
    border: none;
    color: #fff;
    padding: 6px 16px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 13px;
}

.btn-edit:hover{
    background: #155ed1;
}

/* input ‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î */
.edit-date{
  position: absolute;   /* ‚≠ê ‡πÑ‡∏°‡πà‡∏î‡∏±‡∏ô layout */
    top: 42px;            /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏° */
    right: 0;

    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 13px;
    width: 150px;

    display: none;
    z-index: 10;
}

</style>
<script>
function togglePatientMenu(){
    const menu = document.getElementById("patientDropdown");
    if(menu.style.display === "block"){
        menu.style.display = "none";
    }else{
        menu.style.display = "block";
    }
}

/* ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏¥‡∏î */
document.addEventListener("click", function(e){
    const menu = document.getElementById("patientDropdown");
    const button = document.querySelector(".patient-menu");

    if(!button.contains(e.target)){
        menu.style.display = "none";
    }
});
//‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å
function toggleClinicMenu(){
    const menu = document.getElementById("clinicDropdown");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
}

/* ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏¥‡∏î */
document.addEventListener("click", function(e){
    const clinicMenu = document.querySelector(".clinic-menu");
    const clinicDropdown = document.getElementById("clinicDropdown");

    if(clinicMenu && !clinicMenu.contains(e.target)){
        clinicDropdown.style.display = "none";
    }
});

let selectedPatient = null;

function openModal(patient){
    selectedPatient = patient;
    document.getElementById("confirmModal").style.display = "flex";
}

function closeModal(){
    document.getElementById("confirmModal").style.display = "none";
}

function confirmAccept(){
    let myPatients = JSON.parse(localStorage.getItem("myPatients")) || [];

    myPatients.unshift({
        name: selectedPatient.name,
        gender: selectedPatient.gender,
        age: selectedPatient.age,
        clinic: selectedPatient.clinic,
        lastVisit: selectedPatient.lastVisit,
        appointment: "",
        image: selectedPatient.image
    });

    localStorage.setItem("myPatients", JSON.stringify(myPatients));

    window.location.href = "patient-mycare.html";
}
function closeWelcome(){
    const el = document.getElementById('welcome');
    el.style.animation = 'fadeIn .5s reverse forwards';
    setTimeout(()=>{
        el.remove();
        //localStorage.setItem("welcomeShown","1");
    },500);
}

/* ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å */
window.addEventListener("load",()=>{
    if(localStorage.getItem("welcomeShown")){
        const el = document.getElementById("welcome");
        if(el) el.remove();
    }
});
function toggleAccountMenu(){
    const menu = document.getElementById("accountDropdown");
    menu.style.display = (menu.style.display === "block") ? "none" : "block";
}

/* ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏¥‡∏î */
document.addEventListener("click", function(e){
    const wrapper = document.querySelector(".account-wrapper");
    const menu = document.getElementById("accountDropdown");

    if(wrapper && !wrapper.contains(e.target)){
        menu.style.display = "none";
    }
});

function toggleEditDate(btn){
    const input = btn.nextElementSibling;
    input.style.display = (input.style.display === "none") ? "block" : "none";
}

function updateAppointment(input){
    const date = input.value;
    if(!date) return;

    // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏ó‡∏¢‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢
    const d = new Date(date);
    const thaiDate = d.toLocaleDateString("th-TH", {
        year: "numeric",
        month: "long",
        day: "numeric"
    });

    // ‡∏´‡∏≤ div "‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà"
    const card = input.closest(".patient-card");
    const info = card.querySelectorAll(".patient-info div");

    info.forEach(div=>{
        if(div.innerText.includes("‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà")){
            div.innerText = "‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: " + thaiDate;
        }
    });

    input.style.display = "none";
}
function updateAppointmentText(input){
    const value = input.value.trim();
    if(!value) return;

    const parts = value.split("/");
    if(parts.length !== 3){
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö ‡∏ß‡∏ß/‡∏î‡∏î/‡∏õ‡∏õ‡∏õ‡∏õ");
        return;
    }

    let [day, month, year] = parts;

    if(day.length !== 2 || month.length !== 2 || year.length !== 4){
        alert("‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
        return;
    }

    // ‡πÅ‡∏õ‡∏•‡∏á ‡∏û.‡∏®. ‡πÄ‡∏õ‡πá‡∏ô ‡∏Ñ.‡∏®.
    const christianYear = parseInt(year) - 543;

    const isoDate = `${christianYear}-${month}-${day}`;

    // ‡∏´‡∏≤ index ‡∏Ñ‡∏ô‡πÑ‡∏Ç‡πâ
    const card = input.closest(".patient-card");
    const nameText = card.querySelector(".patient-info div").innerText;
    const name = nameText.replace("‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ","");

    let patients = JSON.parse(localStorage.getItem("myPatients")) || [];

    const index = patients.findIndex(p => p.name === name);
    if(index !== -1){
        patients[index].appointment = isoDate;
        localStorage.setItem("myPatients", JSON.stringify(patients));
    }

    // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö‡πÑ‡∏ó‡∏¢
    const thaiDate = `${day}/${month}/${year}`;
    const info = card.querySelectorAll(".patient-info div");

    info.forEach(div=>{
        if(div.innerText.includes("‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà")){
            div.innerText = "‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: " + thaiDate;
        }
    });

    input.style.display = "none";

    alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
}

if(!localStorage.getItem("demoAdded")){
    let myPatients = JSON.parse(localStorage.getItem("myPatients"));

    // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏•‡∏¢ ‡∏Ñ‡πà‡∏≠‡∏¢‡πÉ‡∏™‡πà demo
    if(!myPatients || myPatients.length === 0){
        myPatients = [{
            name: "‡∏ô‡∏≤‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏ô‡∏ô‡∏ó‡πå ‡∏ö‡∏∏‡∏ç‡∏õ‡∏±‡πã‡∏ô",
            gender: "‡∏ä‡∏≤‡∏¢",
            age: 19,
            clinic: "‡πÄ‡∏≠‡∏ô‡πÇ‡∏î‡∏î‡∏≠‡∏ô‡∏ï‡∏¥‡∏Å‡∏™‡πå",
            lastVisit: "28 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå 2569",
            appointment: "",
            image: "‡∏ô‡∏ô‡∏ó‡πå.jpg"
        }];

        localStorage.setItem("myPatients", JSON.stringify(myPatients));
        localStorage.setItem("demoAdded","1");
    }
    };

document.addEventListener("DOMContentLoaded", () => {
    const container = document.getElementById("myPatientList");
    const patients = JSON.parse(localStorage.getItem("myPatients")) || [];

    if(patients.length === 0){
        container.innerHTML = "<p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏î‡∏π‡πÅ‡∏•</p>";
        return;
    }

    patients.forEach(p => {
        const card = document.createElement("div");
        card.className = "patient-card";

        card.innerHTML = `
        <div class="patient-photo">
            <img src="${p.image}">
        </div>

        <div class="patient-info">
            <div>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ${p.name}</div>
            <div>‡πÄ‡∏û‡∏®: ${p.gender} | ‡∏≠‡∏≤‡∏¢‡∏∏: ${p.age} ‡∏õ‡∏µ</div>
            <div>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ${p.lastVisit}</div>
            <div>‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${p.appointment || ""}</div>
            <div>‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤: ${p.clinic}</div>
            <br>
            <span class="doctor">‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• : ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span>
        </div>

        <div class="patient-action">
            <button class="btn-confirm status ${p.appointment ? 'done' : 'recall'}">
                <span class="status-dot"></span>
                ${p.appointment ? '‡∏ô‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß' : '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡∏î'}
            </button>

            <button class="btn-edit" onclick="toggleEditDate(this)">
                ${p.appointment ? '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î' : '‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î'}
            </button>

            <input type="text"
                class="edit-date"
                placeholder="‡∏ß‡∏ß/‡∏î‡∏î/‡∏õ‡∏õ‡∏õ‡∏õ"
                style="display:none"
                onchange="updateAppointmentText(this)">
        </div>
        `;

        container.appendChild(card);
    });
});
//localStorage.removeItem("myPatients");
//localStorage.clear();


/* ==============================
   ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
================================= */

/* ==============================
   ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤ HTML ‡πÄ‡∏•‡∏¢
================================= */

function checkAppointmentFromCards(){

    const cards = document.querySelectorAll(".patient-card");
    const today = new Date();
    today.setHours(0,0,0,0);

    let notifyList = [];

    cards.forEach(card => {

        const infoDivs = card.querySelectorAll(".patient-info div");

        let name = "";
        let appointmentText = "";

        infoDivs.forEach(div=>{
            if(div.innerText.includes("‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•")){
                name = div.innerText.replace("‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ","").trim();
            }

            if(div.innerText.includes("‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà")){
                appointmentText = div.innerText.replace("‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ","").trim();
            }
        });

        if(!appointmentText) return; // ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î ‡∏Ç‡πâ‡∏≤‡∏°

        const appointmentDate = new Date(appointmentText);
        appointmentDate.setHours(0,0,0,0);

        if(isNaN(appointmentDate)) return;

        const diffTime = appointmentDate - today;
        const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

        if(diffDays === 5 || diffDays === 3){

            const thaiDate = appointmentDate.toLocaleDateString("th-TH", {
                year: "numeric",
                month: "long",
                day: "numeric"
            });

            notifyList.push({
                name: name,
                daysLeft: diffDays,
                date: thaiDate
            });
        }

    });

    if(notifyList.length > 0){
        showCardNotification(notifyList);
    }
}

function showCardNotification(list){

    const notify = document.getElementById("gameNotify");
    const notifyTitle = document.getElementById("notifyTitle");
    const notifyText = document.getElementById("notifyText");

    notifyTitle.innerText = "‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢";

    let message = "";

    list.forEach(item=>{
        message += `‚Ä¢ ${item.name} (‡∏≠‡∏µ‡∏Å ${item.daysLeft} ‡∏ß‡∏±‡∏ô - ${item.date})\n`;
    });

    notifyText.innerText = message.trim();

    notify.style.display = "flex";
}

/* ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤ */
window.addEventListener("load", function(){
    checkAppointmentFromCards();
});


</script>

</head>
<body>
<div class="wrapper">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <img src="Up.d copy.png" alt="UP Logo">
        </div>
        <a href="../login-gmail/index.html" class="active">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
        <div class="clinic-menu" onclick="toggleClinicMenu()">
    ‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å ‚ñæ
    <div class="clinic-dropdown" id="clinicDropdown">
    <a href="clinic/xray.html" class="dropdown-item">‡∏ó‡∏±‡∏ô‡∏ï‡∏£‡∏±‡∏á‡∏™‡∏µ</a>
    <a href="clinic/emergency.html" class="dropdown-item">‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</a>
    <a href="clinic/prosthetic.html" class="dropdown-item">‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏î‡∏¥‡∏©‡∏ê‡πå</a>
    <a href="clinic/family.html" class="dropdown-item">‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß</a>
    <a href="clinic/comprehensive.html" class="dropdown-item">‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏°‡∏π‡∏•</a>
    <a href="clinic/restorative.html" class="dropdown-item">‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏ö‡∏π‡∏£‡∏ì‡∏∞</a>
    <a href="clinic/ortho.html" class="dropdown-item">‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏à‡∏±‡∏î‡∏ü‡∏±‡∏ô</a>
    <a href="clinic/endo.html" class="dropdown-item">‡πÄ‡∏≠‡∏ô‡πÇ‡∏î‡∏î‡∏≠‡∏ô‡∏ï‡∏¥‡∏Å‡∏™‡πå</a>
    <a href="clinic/oral-surgery.html" class="dropdown-item">‡∏®‡∏±‡∏•‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏õ‡∏≤‡∏Å</a>
    <a href="clinic/periodontology.html" class="dropdown-item">‡∏õ‡∏£‡∏¥‡∏ó‡∏±‡∏ô‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</a>
    <a href="clinic/occlusion.html" class="dropdown-item">‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏ö‡∏î‡πÄ‡∏Ñ‡∏µ‡πâ‡∏¢‡∏ß</a>
</div>
</div>

        <a href="namedocter/docterindex.html">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏û‡∏ó‡∏¢‡πå</a>
        <a href="record/historyindex.html">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤</a>
        <a href="Chat/Chat.html">‡πÅ‡∏ä‡∏ó</a>
    </div>
    <!-- Content -->
    <div class="content">
        <div class="topbar">
            <div class="breadcrumb">
    <span class="patient-menu" onclick="togglePatientMenu()">
        ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢ ‚ñæ
        <div class="patient-dropdown" id="patientDropdown">
            <div class="dropdown-item"
                onclick="location.href='docternosee.html'">
                ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏î‡∏π‡πÅ‡∏•
            </div>

            <div class="dropdown-item"
                onclick="location.href='today.html'">
                ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
            </div>
        </div>
    </span>
    <a href="../login-gmail/index.html" class="goal-link">‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏î‡∏π‡πÅ‡∏•</a>
    <a href="target.html" class="goal-link2">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</a>
</div>
<div class="user-menu">
    <div class="user-group">
        <!-- ‡∏Å‡∏£‡∏∞‡∏î‡∏¥‡πà‡∏á -->
        <div class="notification">
            üîî
            <span class="badge">3</span>
        </div>
        <!-- ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ -->
        <div class="account-wrapper">
    <div class="account-box" onclick="toggleAccountMenu()">
        <div class="avatar">
            <img src="14769.jpg" alt="profile">
        </div>
        <span class="account-text">‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</span>
        <span class="arrow">‚ñæ</span>
    </div>

    <!-- Account Dropdown -->
    <div class="account-dropdown" id="accountDropdown">

        <div class="account-header">
            <div class="account-avatar">
                <img src="14769.jpg">
            </div>
            <div>
                <div class="account-name">‡∏ä‡∏∑‡πà‡∏≠ Mr.</div>
                <div class="account-role">‡∏ô‡∏¥‡∏™‡∏¥‡∏ï</div>
            </div>
        </div>

        <div class="account-section">
            <div class="section-title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô</div>

            <a href="reg.html" class="account-item">
                <div class="circle-icon"></div>
                ‡∏£‡∏∞‡∏ö‡∏ö reg
            </a>

            <a href="ge-online.html" class="account-item">
                <div class="circle-icon"></div>
                ‡∏£‡∏∞‡∏ö‡∏ö ge-online
            </a>
        </div>

            <a href="logout.html" class="account-logout">
                ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
            </a>


    </div>
</div>

    </div>
</div>


        </div>
        <div class="main">
            <div id="myPatientList"></div>
            <!-- Patient Card -->
            <div class="patient-card">
                <div class="patient-photo">
    <img src="‡∏ô‡∏ô‡∏ó‡πå.jpg" alt="patient">
</div>
                <div class="patient-info">
                    <div>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ‡∏ô‡∏≤‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏ô‡∏ô‡∏ó‡πå ‡∏ö‡∏∏‡∏ç‡∏õ‡∏±‡πã‡∏ô</div>
                    <div>‡πÄ‡∏û‡∏®: ‡∏ä‡∏≤‡∏¢ | ‡∏≠‡∏≤‡∏¢‡∏∏: 19 ‡∏õ‡∏µ</div>
                    <div>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 28 ‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå 2569</div>
                    <div>‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: 2026-02-13</div>
                    <div>‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤: ‡πÄ‡∏≠‡∏ô‡πÇ‡∏î‡∏î‡∏≠‡∏ô‡∏ï‡∏¥‡∏Å‡∏™‡πå</div>
                    <br>
                        <span class="doctor">‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• : ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span>
                    </br>
                </div>
                <div class="patient-action">
                    <button class="btn-confirm status done">
                    <span class="status-dot"></span>
                    ‡∏ô‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß
                </button>
                <button class="btn-edit" onclick="toggleEditDate(this)">
                    ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î
                </button>

                <input type="text"
                    class="edit-date"
                    placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 20/09/2569"
                    placeholder="‡∏ß‡∏ß/‡∏î‡∏î/‡∏õ‡∏õ‡∏õ‡∏õ"
                    style="display:none"
                    onchange="updateAppointmentText(this)">

                </div>
            </div>
                        <div class="patient-card">
                <div class="patient-photo">
    <img src="‡πÇ‡∏°‡∏à‡∏¥.jpg" alt="patient">
</div>
                <div class="patient-info">
                    <div>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏õ‡∏±‡∏ç‡∏à‡∏£‡∏±‡∏ï‡∏ô‡πå ‡∏ó‡∏≠‡∏á‡∏ô‡∏≤</div>
                    <div>‡πÄ‡∏û‡∏®: ‡∏´‡∏ç‡∏¥‡∏á | ‡∏≠‡∏≤‡∏¢‡∏∏: 19 ‡∏õ‡∏µ</div>
                    <div>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 7 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569</div>
                    <div>‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: </div>
                    <div>‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤: ‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏à‡∏±‡∏î‡∏ü‡∏±‡∏ô</div>
                    <br>
                        <span class="doctor">‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• : ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span>
                    </br>
                </div>
                <div class="patient-action">
                    <button class="btn-confirm status done">
                    <span class="status-dot"></span>
                        ‡∏ô‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß
                    </button>
                    <button class="btn-edit" onclick="toggleEditDate(this)">
                    ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î
                </button>

                <input type="text"
                    class="edit-date"
                    placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 20/09/2569"
                    placeholder="‡∏ß‡∏ß/‡∏î‡∏î/‡∏õ‡∏õ‡∏õ‡∏õ"
                    style="display:none"
                    onchange="updateAppointmentText(this)">
                </div>
            </div>
                        <div class="patient-card">
                <div class="patient-photo">
    <img src="‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤.jpg" alt="patient">
</div>
                <div class="patient-info">
                    <div>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏≠‡∏£‡∏±‡∏ç‡∏ç‡∏≤‡∏û‡∏£ ‡∏à‡∏µ‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</div>
                    <div>‡πÄ‡∏û‡∏®: ‡∏´‡∏ç‡∏¥‡∏á | ‡∏≠‡∏≤‡∏¢‡∏∏: 19 ‡∏õ‡∏µ</div>
                    <div>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 23 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2568</div>
                    <div>‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: </div>
                    <div>‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤: ‡∏®‡∏±‡∏•‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏õ‡∏≤‡∏Å</div>
                    <br>
                        <span class="doctor">‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• : ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span>
                    </br>
                </div>
                <div class="patient-action">
                    <button class="btn-confirm status recall">
                    <span class="status-dot"></span>
                        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡∏î
                    </button>
                    <button class="btn-edit" onclick="toggleEditDate(this)">
                    ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î
                </button>

                <input type="text"
                    class="edit-date"
                    placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 20/09/2569"
                    placeholder="‡∏ß‡∏ß/‡∏î‡∏î/‡∏õ‡∏õ‡∏õ‡∏õ"
                    style="display:none"
                    onchange="updateAppointmentText(this)">
                </div>
            </div>
                        <div class="patient-card">
                <div class="patient-photo">
    <img src="‡∏ü‡∏¥‡∏ß‡∏™‡πå.jpg" alt="patient">
</div>
                <div class="patient-info">
                    <div>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ‡∏ô‡∏≤‡∏¢‡∏≠‡∏ï‡∏¥‡∏ß‡∏¥‡∏ä‡∏ç‡πå ‡∏Ñ‡∏≥‡∏°‡∏π‡∏•‡πÉ‡∏à</div>
                    <div>‡πÄ‡∏û‡∏®: ‡∏ä‡∏≤‡∏¢ | ‡∏≠‡∏≤‡∏¢‡∏∏: 19 ‡∏õ‡∏µ</div>
                    <div>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 18 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2568</div>
                    <div>‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: 2026-02-16</div>
                    <div>‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤: ‡∏õ‡∏£‡∏¥‡∏ó‡∏±‡∏ô‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤</div>
                    <br>
                        <span class="doctor">‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• : ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span>
                    
                </div>
                <div class="patient-action">
                    <button class="btn-confirm status done">
                    <span class="status-dot"></span>
                    ‡∏ô‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß
                </button>
                <button class="btn-edit" onclick="toggleEditDate(this)">
                    ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î
                </button>

                <input type="text"
                    class="edit-date"
                    placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 20/09/2569"
                    placeholder="‡∏ß‡∏ß/‡∏î‡∏î/‡∏õ‡∏õ‡∏õ‡∏õ"
                    style="display:none"
                    onchange="updateAppointmentText(this)">

                </div>
            </div>
                        <div class="patient-card">
                <div class="patient-photo">
    <img src="‡∏ó‡∏±‡∏ô‡∏à‡∏¥‡πÇ‡∏£‡πà.jpg" alt="patient">
</div>
                <div class="patient-info">
                    <div>‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•: ‡∏ô‡∏≤‡∏¢‡∏Ñ‡∏≤‡∏°‡∏≤‡πÇ‡∏î‡∏∞ ‡∏ó‡∏±‡∏ô‡∏à‡∏¥‡πÇ‡∏£‡πà</div>
                    <div>‡πÄ‡∏û‡∏®: ‡∏ä‡∏≤‡∏¢ | ‡∏≠‡∏≤‡∏¢‡∏∏: 17 ‡∏õ‡∏µ</div>
                    <div>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 3 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2568</div>
                    <div>‡∏ô‡∏±‡∏î‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: </div>
                    <div>‡∏Ñ‡∏•‡∏¥‡∏ô‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤: ‡∏ó‡∏±‡∏ô‡∏ï‡∏Å‡∏£‡∏£‡∏°‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß</div>
                    <br>
                        <span class="doctor">‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏• : ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•</span>
                    </br>
                </div>
                <div class="patient-action">
                    <button class="btn-confirm status recall">
                    <span class="status-dot"></span>
                        ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ô‡∏±‡∏î
                    </button>
                    <button class="btn-edit" onclick="toggleEditDate(this)">
                    ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏±‡∏î
                </button>

                <input type="text"
                    class="edit-date"
                    placeholder="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 20/09/2569"
                    placeholder="‡∏ß‡∏ß/‡∏î‡∏î/‡∏õ‡∏õ‡∏õ‡∏õ"
                    style="display:none"
                    onchange="updateAppointmentText(this)">
                </div>
            </div>
                </div>
            </div>
        </div>
        <!-- ===== Confirm Modal ===== -->
<div class="modal-overlay" id="confirmModal">
    <div class="modal-box">
        <h3>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</h3>
        <p>‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ</p>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button class="btn-confirm" onclick="confirmAccept()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
        </div>
    </div>
</div>
<!-- ===== Appointment Notify ===== -->
<div class="modal-overlay" id="gameNotify" style="display:none;">
    <div class="modal-box">
        <h3 id="notifyTitle"></h3>
        <p id="notifyText"></p>
        <div class="modal-actions">
            <button class="btn-confirm" onclick="document.getElementById('gameNotify').style.display='none'">
                ‡∏ï‡∏Å‡∏•‡∏á
            </button>
        </div>
    </div>
</div>

</body>
</html>